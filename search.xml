<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hexo 博客写作与维护完整指南</title>
      <link href="/posts/788f639a/"/>
      <url>/posts/788f639a/</url>
      
        <content type="html"><![CDATA[<h4 id="核心概念与工作流"><a href="#核心概念与工作流" class="headerlink" title="核心概念与工作流"></a>核心概念与工作流</h4><p>记住这个黄金工作流，它永远不会错：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean ; hexo g ; hexo d</span><br></pre></td></tr></table></figure><ol><li><code>hexo clean</code>: 清除缓存文件和已生成的静态文件 (<code>public</code> 文件夹)。<strong>在遇到任何奇怪问题时，首先执行这一步</strong>。</li><li><code>hexo g</code> (generate): 将源文件（Markdown、配置等）生成静态网页。</li><li><code>hexo d</code> (deploy): 将生成的 <code>public</code> 文件夹部署到你设定的仓库（如GitHub Pages）。</li></ol><p><strong>最佳实践</strong>：在写作前后，使用 <code>hexo s</code> (server) 在 <code>http://localhost:4000</code> 本地预览，确认无误后再执行部署命令。</p><hr><h4 id="写作篇"><a href="#写作篇" class="headerlink" title="写作篇"></a>写作篇</h4><ol><li><p><strong>创建新文章</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">&quot;我的新文章标题&quot;</span></span><br></pre></td></tr></table></figure><p>这会在 <code>source/_posts</code> 目录下生成一个 <code>我的新文章标题.md</code> 文件。</p></li><li><p><strong>理解 Front-matter</strong><br>文章最上方的两块 <code>---</code> 之间的区域就是 Front-matter，这是文章的元数据。<strong>非常重要！</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">我的新文章标题</span>    <span class="comment"># 文章标题，可自由修改</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2023-10-27 14:00:00</span> <span class="comment"># 创建时间，用于排序</span></span><br><span class="line"><span class="attr">updated:</span> <span class="number">2023-10-28 09:00:00</span> <span class="comment"># 更新时间（可选），有些主题会显示</span></span><br><span class="line"><span class="attr">tags:</span> [<span class="string">Hexo</span>, <span class="string">教程</span>]       <span class="comment"># 标签，可用数组或换行 - 的形式</span></span><br><span class="line"><span class="attr">categories:</span> [<span class="string">技术</span>, <span class="string">博客</span>]  <span class="comment"># 分类，具有层级性，只能有一个</span></span><br><span class="line"><span class="attr">cover:</span> <span class="string">/images/cover.jpg</span> <span class="comment"># 封面图（可选）</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">这篇文章是关于Hexo的详细使用指南。</span> <span class="comment"># 文章摘要（可选），优先于&lt;!--more--&gt;</span></span><br><span class="line"><span class="attr">toc:</span> <span class="literal">true</span>               <span class="comment"># 是否显示目录 Table of Content（可选）</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">true</span>          <span class="comment"># 是否开启评论（可选）</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><ul><li><strong>分类 vs. 标签</strong>：分类是树状结构（如 <code>技术/前端/JavaScript</code>），标签是扁平的关键词。一篇文章通常有1-2个分类，多个标签。</li><li><strong>摘要</strong>：在文章中插入 <code>&lt;!--more--&gt;</code> 标签，该标签之前的内容会作为摘要显示在首页。</li></ul></li><li><p><strong>文章资源文件夹</strong><br>当文章有很多图片时，管理起来很麻烦。Hexo提供了一个很好的功能。</p><ul><li><strong>开启</strong>：在主配置文件 <code>_config.yml</code> 中设置：<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li><li><strong>使用</strong>：当你执行 <code>hexo new &lt;title&gt;</code> 时，会自动在 <code>_posts</code> 下创建一个同名的文件夹。你可以把文章用到的图片都放在这个文件夹里。</li><li><strong>引用</strong>：在文章中引用图片时，使用<strong>相对路径</strong>。<ul><li><strong>推荐插件</strong>：安装 <code>hexo-asset-image</code> 插件来解决路径问题。</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-asset-image --save</span><br></pre></td></tr></table></figure><p>安装后，你就可以在文章中用Mark语法直接引用：<code>![图片描述](文章标题/image.jpg)</code></p></li></ul></li></ol><hr><h4 id="优化配置篇"><a href="#优化配置篇" class="headerlink" title="优化配置篇"></a>优化配置篇</h4><ol><li><strong>永久链接 (Permalink)</strong><br>默认的链接结构是 <code>:year/:month/:day/:title/</code>，又长又包含中文，对SEO不友好。<br>这是目前非常流行的方式，能完美解决标题变更和中文的问题。你需要安装一个插件。</li></ol><p>   <strong>安装插件</strong> <code>hexo-abbrlink</code><br>      <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure></p><p>  <strong>修改配置（# _config.yml）</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:abbrlink.html</span></span><br><span class="line"><span class="comment"># 或者使用斜杠形式</span></span><br><span class="line"><span class="comment"># permalink: posts/:abbrlink/</span></span><br><span class="line"><span class="comment">#  abbrlink 配置</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc32</span>  <span class="comment"># 算法：crc16(default) and crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">hex</span>    <span class="comment"># 进制：dec(default) and hex</span></span><br><span class="line">  <span class="attr">drafts:</span> <span class="literal">false</span> <span class="comment"># 是否为草稿生成链接(false(default))</span></span><br><span class="line">  <span class="comment"># 生成示例: crc16 &amp; hex: https://post/66c8.html</span></span><br><span class="line">  <span class="comment"># 生成示例: crc32 &amp; hex: https://post/8ddf18c9.html</span></span><br></pre></td></tr></table></figure><ul><li><strong>优点</strong>：<ul><li><strong>永久不变</strong>：无论你如何修改文章标题，其ID都不会变，彻底避免死链。</li><li><strong>URL 短且固定</strong>：长度固定，非常整洁。</li><li><strong>无需担心中文</strong>：根本不需要使用中文标题作为URL。</li></ul></li></ul><ol start="2"><li><p><strong>安装实用插件</strong></p><ul><li><strong>站点地图</strong> (利于搜索引擎收录):<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save <span class="comment"># 百度专用</span></span><br></pre></td></tr></table></figure></li><li><strong>文章搜索</strong> (为主题提供本地搜索功能):<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure></li><li><strong>文章字数与阅读统计</strong> (很多主题支持):<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure></li><li><strong>资源文件处理</strong> (上文已提及):<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-asset-image --save</span><br></pre></td></tr></table></figure></li><li><strong>RSS 订阅</strong>:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure>安装后记得在主配置文件中查看并配置对应插件的选项。</li></ul></li><li><p><strong>主题配置</strong></p><ul><li>主题通常有自己的 <code>_config.yml</code> 文件（可能在 <code>themes/你的主题/</code> 下）。<strong>不要直接修改它</strong>，因为更新主题时会被覆盖。</li><li><strong>正确做法</strong>：在博客根目录的 <code>_config.yml</code> 中，在主题配置部分进行覆盖。或者，更好的方法是创建一个名为 <code>_config.你的主题名.yml</code> 的文件（例如 <code>_config.next.yml</code>），Hexo会自动合并配置。</li></ul></li><li><p><strong>评论系统</strong><br>常见的评论系统有 Valine, Waline, Giscus, Utterances 等。根据你的主题文档进行配置，通常需要注册并获取 <code>appId</code> 和 <code>appKey</code>。</p></li></ol><hr><h4 id="部署篇"><a href="#部署篇" class="headerlink" title="部署篇"></a>部署篇</h4><p>你已经部署成功，但可以做得更好：</p><ol><li><p><strong>使用 Git 分支管理源码</strong></p><ul><li>现状：你的 <code>public</code> 目录（生成的静态文件）被部署到了GitHub的 <code>main</code> 或 <code>gh-pages</code> 分支。</li><li><strong>优化方案</strong>：将你的博客<strong>源码</strong>也推送到GitHub的一个单独分支（如 <code>hexo-source</code>）。</li><li><strong>好处</strong>：换电脑、重装系统后，可以轻松地克隆源码、安装依赖、继续写作。</li><li><strong>步骤</strong>：<ol><li>在代码仓库创建一个新分支 <code>hexo-source</code>。</li><li>将当前整个博客文件夹（除了 <code>public</code>、<code>node_modules</code>、<code>.deploy_git</code> 等）推送到该分支。</li><li>记得在 <code>.gitignore</code> 文件中忽略 <code>public</code>、<code>node_modules</code> 等文件夹。</li></ol></li></ul></li><li><p><strong>自动化部署 (CI&#x2F;CD)</strong><br>你可以使用 GitHub Actions 实现自动部署。每当你向 <code>hexo-source</code> 分支推送代码时，Action 会自动执行 <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code> 并部署到页面分支。</p><ul><li>在项目根目录创建 <code>.github/workflows/deploy.yml</code> 文件。</li><li>网上搜索 “Hexo GitHub Actions” 有很多现成模板。</li></ul></li></ol><hr><h4 id="日常维护技巧"><a href="#日常维护技巧" class="headerlink" title="日常维护技巧"></a>日常维护技巧</h4><ol><li><p><strong>更新 Hexo 和插件</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看过时的包</span></span><br><span class="line">npm outdated</span><br><span class="line"><span class="comment"># 更新所有包 (谨慎操作，最好逐个更新)</span></span><br><span class="line">npm update</span><br><span class="line"><span class="comment"># 或者指定更新</span></span><br><span class="line">npm update hexo hexo-cli</span><br></pre></td></tr></table></figure></li><li><p><strong>备份！备份！备份！</strong></p><ul><li>确保源码已经推送到远程的 <code>hexo-source</code> 分支。</li><li>定期导出你的重要数据（文章Markdown文件）。</li></ul></li><li><p><strong>处理本地搜索</strong><br>如果安装了搜索插件，在主配置文件中添加：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li><li><p><strong>自定义页面</strong></p><ul><li><strong>关于我</strong> 页面：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page <span class="string">&quot;about&quot;</span></span><br></pre></td></tr></table></figure>这会在 <code>source/about</code> 目录下创建 <code>index.md</code>，你可以像写文章一样编辑它。</li></ul></li></ol><hr><h4 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h4><ul><li><p><strong>Q: 部署后样式丢失&#x2F;CSS&#x2F;JS 404？</strong></p><ul><li><strong>A</strong>: 检查主配置文件中的 <code>url</code> 和 <code>root</code> 是否配置正确。如果是二级项目（如 <code>username.github.io/repo</code>），<code>root</code> 要设为 <code>/repo/</code>。</li></ul></li><li><p><strong>Q: 本地预览正常，部署后没变化？</strong></p><ul><li><strong>A</strong>: 首先执行 <code>hexo clean</code>，然后重新生成部署。99%的问题能通过清除缓存解决。</li></ul></li><li><p><strong>Q: 想换电脑写博客怎么办？</strong></p><ul><li><strong>A</strong>:<ol><li>在新电脑上安装 Git 和 Node.js。</li><li>克隆你的 <code>hexo-source</code> 分支代码。</li><li>在项目根目录执行 <code>npm install</code> 安装所有依赖。</li><li>然后你就可以正常写作和部署了。</li></ol></li></ul></li><li><p><strong>Q: 图片还是不显示？</strong></p><ul><li><strong>A</strong>: 路径问题是永恒的难题。确保 <code>post_asset_folder: true</code>，并使用了 <code>hexo-asset-image</code> 插件。或者，使用<strong>图床</strong>（如阿里云OSS、腾讯云COS、SM.MS）是更一劳永逸的方案，能极大加快页面加载速度。</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
